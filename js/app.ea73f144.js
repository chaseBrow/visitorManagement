(function(t){function e(e){for(var a,i,o=e[0],c=e[1],l=e[2],d=0,m=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&m.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,o=1;o<s.length;o++){var c=s[o];0!==r[c]&&(a=!1)}a&&(n.splice(e--,1),t=i(i.s=s[0]))}return t}var a={},r={app:0},n=[];function i(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=a,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(s,a,function(e){return t[e]}.bind(null,a));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/visitorManagement/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0b90":function(t,e,s){},"0d4a":function(t,e,s){"use strict";var a=s("68ca"),r=s.n(a);r.a},1:function(t,e){},10:function(t,e){},11:function(t,e){},12:function(t,e){},13:function(t,e){},14:function(t,e){},15:function(t,e){},2:function(t,e){},3:function(t,e){},4:function(t,e){},5:function(t,e){},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("Navbar"),s("v-content",[s("router-view")],1)],1)},n=[],i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",[s("v-app-bar",{staticClass:"secondary",attrs:{app:"",dense:""}},[s("v-app-bar-nav-icon",{attrs:{color:"white"},on:{click:function(e){t.drawer=!t.drawer}}}),s("v-toolbar-title",{staticClass:"text-uppercase"},[s("span",{staticClass:"font-weight-light",staticStyle:{"font-size":"x-large",color:"white"}},[t._v(" Visitor")]),s("span",{staticClass:"font-weight-bold",staticStyle:{"font-size":"x-large",color:"white"}},[t._v("Mgmt")]),s("span",{staticClass:"text-lowercase",staticStyle:{"font-size":"x-large",color:"white"}},[t._v("x")]),s("span",{staticClass:"font-weight-bold",staticStyle:{"font-size":"x-large",color:"white"}},[t._v("AU")])]),s("v-spacer"),["home"].indexOf(t.$route.name)<=-1?s("NewContractor"):t._e(),["home"].indexOf(t.$route.name)<=-1?s("NewGuest"):t._e(),["home"].indexOf(t.$route.name)<=-1?s("NewVisitor"):t._e(),["home"].indexOf(t.$route.name)<=-1?s("v-btn",{staticClass:"accent",on:{click:function(e){return t.logOut()}}},[s("span",{staticClass:"mr-1 primary--text"},[t._v("Sign Out")]),s("v-icon",{attrs:{color:"white"}},[t._v("mdi-exit-to-app")])],1):t._e()],1),s("v-navigation-drawer",{staticClass:"secondary",attrs:{app:"",fixed:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[s("v-list",t._l(t.links,(function(e){return s("v-list-item",{key:e.text,attrs:{to:e.route}},[s("v-list-item-action",[s("v-icon",{staticClass:"primary--text"},[t._v(t._s(e.icon))])],1),s("v-list-item-content",[s("v-list-item-title",{staticClass:"primary--text"},[t._v(" "+t._s(e.text)+" ")])],1)],1)})),1)],1)],1)},o=[],c=(s("96cf"),s("1da1")),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-menu",{attrs:{left:"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[s("v-btn",t._g(t._b({staticClass:"mr-2 accent"},"v-btn",r,!1),a),[s("span",{staticClass:"mr-1 primary--text"},[t._v("New Member")]),s("v-icon",{attrs:{color:"white"}},[t._v("mdi-account-plus")])],1)]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[s("v-form",{ref:"form"},[s("v-card",{staticClass:"pa-4"},[s("v-alert",{attrs:{dense:"",type:"error",value:t.duplicate,dismissible:""}},[t._v(" This is a duplicate user based on email and company. ")]),s("v-row",[s("v-col",{attrs:{cols:"6"}},[s("v-text-field",{attrs:{label:"First Name",outlined:"",color:"accent",rules:t.visitor.firstNameRules},model:{value:t.visitor.firstName,callback:function(e){t.$set(t.visitor,"firstName",e)},expression:"visitor.firstName"}})],1),s("v-col",{attrs:{cols:"6"}},[s("v-text-field",{attrs:{label:"Last Name",outlined:"",color:"accent",rules:t.visitor.lastNameRules},model:{value:t.visitor.lastName,callback:function(e){t.$set(t.visitor,"lastName",e)},expression:"visitor.lastName"}})],1)],1),s("v-row",[s("v-col",{attrs:{cols:"6"}},[s("CompanySelect",{attrs:{company:t.visitor.company,parent:"newVisitor"},on:{"update:company":[function(e){t.visitor.company=e},function(e){return t.$set(t.visitor,"company",e)}]}})],1),s("v-col",{attrs:{cols:"6"}},[s("v-text-field",{attrs:{rules:t.visitor.emailRules,label:"Email",outlined:"",color:"accent"},model:{value:t.visitor.email,callback:function(e){t.$set(t.visitor,"email",e)},expression:"visitor.email"}})],1)],1),s("v-row",[s("v-col",{attrs:{cols:"6"}},[s("v-select",{attrs:{label:"Access",outlined:"",color:"accent",items:t.accessOptions,rules:t.visitor.accessRules},on:{focus:function(e){return t.getOptions()}},model:{value:t.visitor.access,callback:function(e){t.$set(t.visitor,"access",e)},expression:"visitor.access"}})],1),s("v-col",{attrs:{cols:"6"}},[s("v-text-field",{attrs:{rules:t.visitor.phoneRules,label:"Phone",outlined:"",color:"accent"},model:{value:t.visitor.phone,callback:function(e){t.$set(t.visitor,"phone",e)},expression:"visitor.phone"}})],1)],1),s("v-row",[s("v-col",{attrs:{cols:"6"}},[s("v-checkbox",{attrs:{color:"accent",label:"May Schedule Others"},model:{value:t.visitor.maySchedule,callback:function(e){t.$set(t.visitor,"maySchedule",e)},expression:"visitor.maySchedule"}})],1),s("v-col",{attrs:{cols:"6"}},[s("v-checkbox",{attrs:{color:"accent",label:"May Request Remote Hands"},model:{value:t.visitor.mayRemote,callback:function(e){t.$set(t.visitor,"mayRemote",e)},expression:"visitor.mayRemote"}})],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{staticClass:"mr-3",attrs:{elevation:"0",color:"info",outlined:""},on:{click:function(e){return t.clear()}}},[t._v(" Clear ")]),s("v-btn",{staticClass:"mr-3",attrs:{color:"success"},on:{click:function(e){return t.saveVisitor()}}},[t._v(" Save ")])],1)],1)],1)],1)},u=[],d=(s("7db0"),s("4160"),s("159b"),s("bf48")),m=s.n(d),p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{staticClass:"ma-0 pa-0"},[s("v-autocomplete",t._b({attrs:{id:t.parent,outlined:"",label:"Company",color:"accent","cache-items":"","hide-no-data":"",items:t.filteredCompanies,"search-input":t.filter,rules:t.companyRules},on:{"update:searchInput":function(e){t.filter=e},"update:search-input":function(e){t.filter=e},keyup:function(e){return t.searchCompanies()},input:function(e){return t.$emit("update:company",t.selected)}},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},"v-autocomplete",{clearable:"dashboard"==t.parent},!1))],1)},v=[],f=(s("4de4"),s("caad"),s("2532"),{props:["company","parent"],data:function(){var t=this;return{filter:"",selected:this.company,companies:[],companyRules:[function(e){return!!e||"newVisitor"!=t.parent||"Company is a required field."}],filteredCompanies:[]}},watch:{company:function(t){this.selected=t}},created:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=new m.a.Query(m.a.User),e.next=3,s.subscribe();case 3:a=e.sent,a.on("open",(function(){console.log("open companies made"),t.getCompanies()})),a.on("delete",(function(){t.getCompanies()})),a.on("create",(function(){t.getCompanies()})),a.on("update",(function(){t.getCompanies()})),t.getCompanies();case 9:case"end":return e.stop()}}),e)})))()},methods:{getCompanies:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=m.a.User.current(),s=new m.a.Query(m.a.User),s.equalTo("parentCompany",e),t.next=5,s.find();case 5:this.companies=t.sent,this.companies.push(e),this.searchCompanies();case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),searchCompanies:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=[],e=this.companies.filter((function(t){return s.filter&&t.get("name").toLowerCase().includes(s.filter.toLowerCase()),!0})),this.filteredCompanies=[],e.forEach((function(t){s.filteredCompanies.push(t.get("name"))}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}}),h=f,y=s("2877"),g=s("6544"),b=s.n(g),w=s("c6a6"),x=s("a523"),C=Object(y["a"])(h,p,v,!1,null,"592fc30c",null),k=C.exports;b()(C,{VAutocomplete:w["a"],VContainer:x["a"]});var _={data:function(){var t=this;return{accessOptions:[],visitor:{firstName:null,firstNameRules:[function(t){return!!t||"First Name is a required field."},function(t){return/^[a-zA-Z]+$/.test(t)||"Invalid First Name"}],lastName:null,lastNameRules:[function(t){return!!t||"Last Name is a required field."},function(t){return/^[a-zA-Z]+$/.test(t)||"Invalid Last Name."}],company:null,email:null,emailRules:[function(t){return!!t||"Email is a required field."},function(){return 0==t.duplicate||"This is a duplicate key."}],access:null,accessRules:[function(t){return!!t||"Access is a required field."}],phone:null,phoneRules:[function(t){return/^(\+\d{1,2}\s)?\(?\d{3}\)?[\s.-]?\d{3}[\s.-]?\d{4}$/.test(t)||!t||"Invalid Phone Number."}],maySchedule:null,mayRemote:!1},menu:!1,duplicate:!1}},methods:{getOptions:function(){this.accessOptions=[];var t=m.a.User.current();this.accessOptions=t.get("options")},clear:function(){this.$refs.form.reset(),this.duplicate=!1},saveVisitor:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,s,a,r,n,i,o,c=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=m.a.Object.extend("Visitor"),s=new m.a.Query(e),s.notEqualTo("deleted",!0),t.next=5,s.find();case 5:if(a=t.sent,r=!1,a.forEach((function(t){t.get("email")==c.visitor.email&&t.get("company").get("name")==c.visitor.company&&(r=!0)})),1!=this.$refs.form.validate()||r){t.next=29;break}return n=new e,i=new m.a.Query(m.a.User),i.equalTo("name",this.visitor.company),t.next=14,i.first();case 14:return o=t.sent,n.set("firstName",this.visitor.firstName),n.set("lastName",this.visitor.lastName),n.set("company",o),n.set("email",this.visitor.email),n.set("access",this.visitor.access),n.set("phone",this.visitor.phone),n.set("maySchedule",this.visitor.maySchedule),n.set("mayRemote",this.visitor.mayRemote),t.next=25,n.save();case 25:this.clear(),this.menu=!this.menu,t.next=30;break;case 29:this.$refs.form.validate()&&(this.duplicate=!0,this.$refs.form.validate());case 30:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},components:{CompanySelect:k}},N=_,R=s("0798"),S=s("8336"),T=s("b0af"),V=s("99d9"),O=s("ac7c"),E=s("62ad"),I=s("4bd4"),D=s("132d"),A=s("e449"),B=s("0fd9"),$=s("b974"),j=s("2fa4"),F=s("8654"),P=Object(y["a"])(N,l,u,!1,null,"2fc628e2",null),L=P.exports;b()(P,{VAlert:R["a"],VBtn:S["a"],VCard:T["a"],VCardActions:V["a"],VCheckbox:O["a"],VCol:E["a"],VForm:I["a"],VIcon:D["a"],VMenu:A["a"],VRow:B["a"],VSelect:$["a"],VSpacer:j["a"],VTextField:F["a"]});var U=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-menu",{attrs:{left:"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[s("v-btn",t._g(t._b({staticClass:"mr-2 accent"},"v-btn",r,!1),a),[s("span",{staticClass:"mr-1 primary--text"},[t._v("New Guest")]),s("v-icon",{attrs:{color:"white"}},[t._v("mdi-account-plus")])],1)]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[s("v-form",{ref:"form"},[s("v-card",{staticClass:"pa-4"},[s("v-row",[s("v-col",[s("v-text-field",{attrs:{label:"First Name",outlined:"",color:"accent",rules:t.guest.firstNameRules},model:{value:t.guest.firstName,callback:function(e){t.$set(t.guest,"firstName",e)},expression:"guest.firstName"}})],1)],1),s("v-row",[s("v-col",[s("v-text-field",{attrs:{label:"Last Name",outlined:"",color:"accent",rules:t.guest.lastNameRules},model:{value:t.guest.lastName,callback:function(e){t.$set(t.guest,"lastName",e)},expression:"guest.lastName"}})],1)],1),s("v-row",[s("v-col",[s("v-select",{attrs:{outlined:"",color:"accent",label:"Status",rules:t.statusRules,items:["Arrived","Expected"]},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}})],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{staticClass:"mr-3",attrs:{elevation:"0",color:"info",outlined:""},on:{click:function(e){return t.clear()}}},[t._v(" Clear ")]),s("v-btn",{staticClass:"success mr-3",on:{click:function(e){return t.saveGuest()}}},[t._v(" Submit ")])],1)],1)],1)],1)},M=[],q={data:function(){return{guest:{firstName:null,firstNameRules:[function(t){return!!t||"First Name is a required field."},function(t){return/^[a-zA-Z]+$/.test(t)||"Invalid First Name"}],lastName:null,lastNameRules:[function(t){return!!t||"Last Name is a required field."},function(t){return/^[a-zA-Z]+$/.test(t)||"Invalid Last Name."}]},status:null,statusRules:[function(t){return!!t||"Status is a required field"}],menu:!1,record:null}},methods:{clear:function(){this.$refs.form.reset()},saveGuest:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,s,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(1!=this.$refs.form.validate()){t.next=21;break}return e=m.a.Object.extend("Visitor"),s=new e,a=m.a.User.current(),s.set("firstName",this.guest.firstName),s.set("lastName",this.guest.lastName),s.set("company",a),s.set("access","Guest"),s.set("email","Guest"),t.next=11,s.save();case 11:return r=new m.a.Object.extend("Record"),this.record=new r,this.record.set("visitor",s),console.log("setting status: "+this.status),this.record.set("status",this.status),"Arrived"==this.status&&this.record.set("arrive",this.getDate()),t.next=19,this.record.save();case 19:this.clear(),this.menu=!this.menu;case 21:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getDate:function(){var t=new Date;return t}}},z=q,Q=Object(y["a"])(z,U,M,!1,null,"3970813b",null),G=Q.exports;b()(Q,{VBtn:S["a"],VCard:T["a"],VCardActions:V["a"],VCol:E["a"],VForm:I["a"],VIcon:D["a"],VMenu:A["a"],VRow:B["a"],VSelect:$["a"],VSpacer:j["a"],VTextField:F["a"]});var H=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-menu",{attrs:{left:"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[s("v-btn",t._g(t._b({staticClass:"mr-2 accent"},"v-btn",r,!1),a),[s("span",{staticClass:"mr-1 primary--text"},[t._v("New Contractor")]),s("v-icon",{attrs:{color:"white"}},[t._v("mdi-account-plus")])],1)]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[s("v-form",{ref:"form"},[s("v-card",{staticClass:"pa-4"},[s("v-row",[s("v-col",[s("v-text-field",{attrs:{label:"First Name",outlined:"",color:"accent",rules:t.contractor.firstNameRules},model:{value:t.contractor.firstName,callback:function(e){t.$set(t.contractor,"firstName",e)},expression:"contractor.firstName"}})],1),s("v-col",[s("v-text-field",{attrs:{label:"Last Name",outlined:"",color:"accent",rules:t.contractor.lastNameRules},model:{value:t.contractor.lastName,callback:function(e){t.$set(t.contractor,"lastName",e)},expression:"contractor.lastName"}})],1)],1),s("v-row",[s("v-col",[s("v-text-field",{attrs:{label:"Email",outlined:"",color:"accent",rules:t.contractor.emailRules},model:{value:t.contractor.email,callback:function(e){t.$set(t.contractor,"email",e)},expression:"contractor.email"}})],1)],1),s("v-row",[s("v-textarea",{attrs:{outlined:"",color:"accent",label:"Notes",rows:"6"},model:{value:t.contractor.notes,callback:function(e){t.$set(t.contractor,"notes",e)},expression:"contractor.notes"}})],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{staticClass:"mr-3",attrs:{elevation:"0",color:"info",outlined:""},on:{click:function(e){return t.clear()}}},[t._v(" Clear ")]),s("v-btn",{staticClass:"success mr-3",on:{click:function(e){return t.saveContractor()}}},[t._v(" Submit ")])],1)],1)],1)],1)},Y=[],Z={data:function(){return{contractor:{notes:"Expected Date:\nExpected Time:\nContractor's Company:\nPurpose:\nCabinet:\nOther:",email:null,emailRules:[function(t){return!!t||"Email is a required field."}],firstName:null,firstNameRules:[function(t){return!!t||"First Name is a required field."},function(t){return/^[a-zA-Z]+$/.test(t)||"Invalid First Name"}],lastName:null,lastNameRules:[function(t){return!!t||"Last Name is a required field."},function(t){return/^[a-zA-Z]+$/.test(t)||"Invalid Last Name."}]},menu:!1,record:null}},methods:{clear:function(){this.$refs.form.reset(),this.contractor.notes="Expected Date:\nExpected Time:\nContractor's Company:\nPurpose:\nCabinet:\nOther:"},saveContractor:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,s,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(1!=this.$refs.form.validate()){t.next=20;break}return e=m.a.Object.extend("Visitor"),s=new e,a=m.a.User.current(),s.set("firstName",this.contractor.firstName),s.set("lastName",this.contractor.lastName),s.set("company",a),s.set("access","Contractor"),s.set("email",this.contractor.email),s.set("notes",this.contractor.notes),t.next=12,s.save();case 12:return r=new m.a.Object.extend("Record"),this.record=new r,this.record.set("visitor",s),this.record.set("status","Expected"),t.next=18,this.record.save();case 18:this.clear(),this.menu=!this.menu;case 20:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},J=Z,K=s("a844"),W=Object(y["a"])(J,H,Y,!1,null,"47d101c6",null),X=W.exports;b()(W,{VBtn:S["a"],VCard:T["a"],VCardActions:V["a"],VCol:E["a"],VForm:I["a"],VIcon:D["a"],VMenu:A["a"],VRow:B["a"],VSpacer:j["a"],VTextField:F["a"],VTextarea:K["a"]});var tt={components:{NewVisitor:L,NewGuest:G,NewContractor:X},data:function(){return{drawer:!1,links:[{icon:"mdi-view-dashboard",text:"Dashboard",route:"/Dashboard"},{icon:"mdi-folder-clock-outline",text:"Visit History",route:"/VisitHistory"}]}},methods:{logOut:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.a.User.logOut();case 2:this.$router.push("/");case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},et=tt,st=(s("af05"),s("40dc")),at=s("5bc1"),rt=s("8860"),nt=s("da13"),it=s("1800"),ot=s("5d23"),ct=s("f774"),lt=s("2a7f"),ut=Object(y["a"])(et,i,o,!1,null,"7f8801b4",null),dt=ut.exports;b()(ut,{VAppBar:st["a"],VAppBarNavIcon:at["a"],VBtn:S["a"],VIcon:D["a"],VList:rt["a"],VListItem:nt["a"],VListItemAction:it["a"],VListItemContent:ot["a"],VListItemTitle:ot["b"],VNavigationDrawer:ct["a"],VSpacer:j["a"],VToolbarTitle:lt["a"]});var mt={name:"App",components:{Navbar:dt},data:function(){return{}}},pt=mt,vt=s("7496"),ft=s("a75b"),ht=Object(y["a"])(pt,r,n,!1,null,"280223d0",null),yt=ht.exports;b()(ht,{VApp:vt["a"],VContent:ft["a"]});var gt=s("8c4f"),bt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{fluid:"","fill-height":"",background:""}},[s("v-row",{staticClass:"mx-4",staticStyle:{height:"fit-content"}},[s("v-form",{staticClass:"primary form"},[s("v-container",[s("v-row",{staticClass:"align-start"},[s("v-col",{staticClass:"pb-0",attrs:{cols:"2"}},[s("v-text-field",{attrs:{label:"First Name",outlined:"",color:"accent"},on:{input:function(e){return t.filterPeople()}},model:{value:t.filterTerms.firstName,callback:function(e){t.$set(t.filterTerms,"firstName",e)},expression:"filterTerms.firstName"}})],1),s("v-col",{staticClass:"pb-0",attrs:{cols:"2"}},[s("v-text-field",{attrs:{label:"Last Name",outlined:"",color:"accent"},on:{input:function(e){return t.filterPeople()}},model:{value:t.filterTerms.lastName,callback:function(e){t.$set(t.filterTerms,"lastName",e)},expression:"filterTerms.lastName"}})],1),s("v-col",{staticClass:"pb-0",attrs:{cols:"3"}},[s("CompanySelect",{attrs:{company:t.filterTerms.company,parent:"dashboard"},on:{"update:company":[function(e){t.filterTerms.company=e,t.filterPeople()},function(e){return t.$set(t.filterTerms,"company",e)}]}})],1),s("v-col",{staticClass:"pb-0",attrs:{cols:"3"}},[s("v-text-field",{attrs:{label:"Email",outlined:"",color:"accent"},on:{input:function(e){return t.filterPeople()}},model:{value:t.filterTerms.email,callback:function(e){t.$set(t.filterTerms,"email",e)},expression:"filterTerms.email"}})],1),s("v-col",{staticClass:"pb-0",attrs:{cols:"2"}},[s("v-select",{attrs:{clearable:"",label:"Access",outlined:"",color:"accent",items:t.accessOptions},on:{focus:function(e){return t.getOptions()},change:function(e){return t.filterPeople()}},model:{value:t.filterTerms.access,callback:function(e){t.$set(t.filterTerms,"access",e)},expression:"filterTerms.access"}})],1)],1)],1)],1),s("v-col",{staticClass:"primary",staticStyle:{"border-radius":"0px 0px 10px 10px",height:"fit-content"},attrs:{cols:"12"}},[s("v-toolbar",{staticClass:"secondary"},[s("span",{staticClass:"primary--text",staticStyle:{width:"10%"}},[t._v("First Name")]),s("span",{staticClass:"primary--text",staticStyle:{width:"10%"}},[t._v("Last Name")]),s("span",{staticClass:"primary--text",staticStyle:{width:"10%"}},[t._v("Company")]),s("span",{staticClass:"primary--text",staticStyle:{width:"25%"}},[t._v("Email")]),s("span",{staticClass:"primary--text",staticStyle:{width:"10%"}},[t._v("Access")]),s("v-spacer"),s("v-btn",{staticClass:"accent primary--text",on:{click:function(e){return t.recentVisitors()}}},[t._v(" Recent Visitors ")])],1),s("v-list",{staticClass:"data secondary",attrs:{dense:""}},[t._l(t.contractors,(function(e){return s("v-list-item",{key:e.id,staticClass:"guestCont",attrs:{hidden:t.hideGuestCont}},[s("span",{staticClass:"primary--text",staticStyle:{width:"10%"}},[t._v(t._s(e.get("firstName")))]),s("span",{staticClass:"primary--text",staticStyle:{width:"10%"}},[t._v(t._s(e.get("lastName")))]),s("span",{staticClass:"primary--text",staticStyle:{width:"10%","font-size":"0.95rem"}},[t._v(t._s(t.getCompanyName(e)))]),s("span",{staticClass:"primary--text",staticStyle:{width:"25%","font-size":"0.9rem"}},[t._v(t._s(e.get("email")))]),s("span",{staticClass:"primary--text",staticStyle:{width:"10%","font-size":"0.9rem"}},[t._v(t._s(e.get("access")))]),s("v-spacer"),s("div",{key:e.id+"visit",attrs:{id:e.id+"visit"}},[s("NewRecord",{attrs:{person:e}})],1),s("div",[s("v-btn",{staticClass:"accent mr-1",on:{click:function(s){return t.print(e)}}},[s("v-icon",{attrs:{dense:""}},[t._v("mdi-printer")])],1)],1),s("div",{key:e.get("email")+"info",staticClass:"pa-0",attrs:{id:e.get("email")+"info"}},[s("MoreInfo",{attrs:{person:e}})],1)],1)})),t._l(t.guests,(function(e){return s("v-list-item",{key:e.id,staticClass:"guestCont",attrs:{hidden:t.hideGuestCont}},[s("span",{staticClass:"primary--text",staticStyle:{width:"10%"}},[t._v(t._s(e.get("firstName")))]),s("span",{staticClass:"primary--text",staticStyle:{width:"10%"}},[t._v(t._s(e.get("lastName")))]),s("span",{staticClass:"primary--text",staticStyle:{width:"10%","font-size":"0.95rem"}},[t._v(t._s(t.getCompanyName(e)))]),s("span",{staticClass:"primary--text",staticStyle:{width:"25%","font-size":"0.9rem"}},[t._v(t._s(e.get("email")))]),s("span",{staticClass:"primary--text",staticStyle:{width:"10%","font-size":"0.9rem"}},[t._v(t._s(e.get("access")))]),s("v-spacer"),s("div",{key:e.id+"visit",attrs:{id:e.id+"visit"}},[s("NewRecord",{attrs:{person:e}})],1),s("div",[s("v-btn",{staticClass:"accent mr-1",on:{click:function(s){return t.print(e)}}},[s("v-icon",{attrs:{dense:""}},[t._v("mdi-printer")])],1)],1),s("div",{key:e.get("email")+"info",staticClass:"pa-0",attrs:{id:e.id+"info"}},[s("v-btn",{staticClass:"accent",attrs:{disabled:!0,dark:!0}},[s("v-icon",{staticClass:"pr-1",attrs:{dense:""}},[t._v("mdi-card-account-details-outline")]),s("span",[t._v("Info")])],1)],1)],1)})),t._l(t.filteredPeople,(function(e){return s("v-list-item",{key:e.id},[s("span",{staticClass:"primary--text",staticStyle:{width:"10%"}},[t._v(t._s(e.get("firstName")))]),s("span",{staticClass:"primary--text",staticStyle:{width:"10%"}},[t._v(t._s(e.get("lastName")))]),s("span",{staticClass:"primary--text",staticStyle:{width:"10%","font-size":"0.95rem"}},[t._v(t._s(t.getCompanyName(e)))]),s("span",{staticClass:"primary--text",staticStyle:{width:"25%","font-size":"0.9rem"}},[t._v(t._s(e.get("email")))]),s("span",{staticClass:"primary--text",staticStyle:{width:"10%","font-size":"0.9rem"}},[t._v(t._s(e.get("access")))]),s("v-spacer"),s("div",{key:e.get("email")+"visit",attrs:{id:e.get("email")+"visit"}},[s("NewRecord",{attrs:{person:e}})],1),s("div",[s("v-btn",{staticClass:"accent mr-1",on:{click:function(s){return t.print(e)}}},[s("v-icon",{attrs:{dense:""}},[t._v("mdi-printer")])],1)],1),s("div",{key:e.get("email")+"info",staticClass:"pa-0",attrs:{id:e.get("email")+"info"}},[s("MoreInfo",{attrs:{person:e}})],1)],1)}))],2)],1)],1)],1)},wt=[],xt=(s("c975"),s("d81d"),s("fb6a"),s("a434"),s("d3b7"),s("6062"),s("3ca3"),s("ddb0"),s("2909")),Ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{staticClass:"ma-0 pa-0"},["Expected"==t.statIcon?s("v-btn",{staticClass:"expected",attrs:{fab:"","x-small":""}},[s("v-icon",[t._v("mdi-clock-time-eight-outline")])],1):"Arrived"==t.statIcon?s("v-btn",{staticClass:"arrived",attrs:{fab:"","x-small":""}},[s("v-icon",[t._v("mdi-login")])],1):"Departed"==t.statIcon?s("v-btn",{staticClass:"departed",attrs:{fab:"","x-small":""}},[s("v-icon",[t._v("mdi-logout")])],1):t._e(),s("v-dialog",{staticClass:"primary",attrs:{persistent:"",width:"300px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[s("v-btn",t._g(t._b({staticClass:"mr-1 accent",staticStyle:{padding:"0 16px 0 6px"},attrs:{disabled:t.isRestricted(),dark:""},on:{click:function(e){return t.newRecord()}}},"v-btn",r,!1),a),[s("v-icon",{staticClass:"pr-1",attrs:{dense:""}},[t._v("mdi-plus")]),s("span",[t._v("Visit")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-form",[s("v-card",{staticClass:"pa-4"},[s("v-card-title",[t._v(" Visit Log ")]),s("v-text-field",{attrs:{disabled:"Arrived"!==t.status,label:"Arrival",value:t.arrivalTime,type:"time"}}),s("v-text-field",{attrs:{disabled:"Departed"!==t.status,label:"Departure",value:t.departureTime,type:"time"}}),s("v-select",{attrs:{placeholder:t.status,label:"Status",items:t.options},on:{change:function(e){return t.visitStatus()}},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}}),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{outlined:"",color:"info"},on:{click:function(e){return t.cancel()}}},[t._v("Cancel")]),s("v-btn",{attrs:{color:"accent"},on:{click:function(e){return t.saveRecord()}}},[t._v("Save")])],1)],1)],1)],1)],1)},kt=[],_t=(s("ac1f"),s("1276"),{props:["person"],data:function(){return{options:["Arrived","Expected"],select:null,dialog:!1,record:null,status:"Absent",statIcon:"",arrivalTime:null,departureTime:null}},created:function(){this.newRecord()},methods:{isRestricted:function(){return!!this.person.get("company").get("restricted")&&(this.person.get("company").id!=m.a.User.current().id&&"Absent"==this.status)},visitStatus:function(){this.status=this.select,"Arrived"==this.status?this.arrivalTime=this.toTime(this.getDate()):"Departed"==this.status&&(this.departureTime=this.toTime(this.getDate()))},cancel:function(){this.select=null,this.dialog=!1,this.record.get("status")?this.status=this.record.get("status"):this.status="Absent",this.record.get("arrive")?this.arrivalTime=this.toTime(this.record.get("arrive")):this.arrivalTime=null,this.record.get("depart")?this.departureTime=this.toTime(this.record.get("depart")):this.departureTime=null},newRecord:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,s,a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=new m.a.Object.extend("Record"),s=new m.a.Query(e),s.equalTo("visitor",this.person),s.doesNotExist("arrive"),a=new m.a.Query(e),a.equalTo("visitor",this.person),a.doesNotExist("depart"),r=m.a.Query.or(s,a),t.next=10,r.first();case 10:n=t.sent,n?(this.record=n,this.status=this.record.get("status"),this.record.get("arrive")&&(this.arrivalTime=this.toTime(this.record.get("arrive"))),this.record.get("depart")&&(this.departureTime=this.toTime(this.record.get("depart"))),"Arrived"==this.status&&(this.options=["Departed","Delete"]),"Departed"==this.status&&(this.options=["Arrived","Expected"]),"Expected"==this.status&&(this.options=["Arrived","Delete"])):(this.record=new e,this.record.set("visitor",this.person)),this.getStatus();case 13:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),saveRecord:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("Arrived"!=this.status){t.next=8;break}return this.options=["Departed","Delete"],this.record.set("status",this.status),this.record.set("arrive",this.getDate()),t.next=6,this.record.save();case 6:t.next=42;break;case 8:if("Departed"!=this.status){t.next=26;break}return this.options=["Arrived","Expected"],this.record.set("status",this.status),this.record.set("depart",this.getDate()),t.next=14,this.record.save();case 14:if(this.select=null,this.dialog=!1,this.record=null,this.status="Absent",this.arrivalTime=null,this.departureTime=null,"Guest"!=this.person.get("access")&&"Contractor"!=this.person.get("access")){t.next=24;break}return this.person.set("deleted",!0),t.next=24,this.person.save();case 24:t.next=42;break;case 26:if("Expected"!=this.status){t.next=34;break}return this.options=["Arrived","Delete"],this.record.set("status",this.status),this.record.set("visitor",this.person),t.next=32,this.record.save();case 32:t.next=42;break;case 34:if("Delete"!=this.status){t.next=42;break}return this.options=["Arrived","Expected"],t.next=38,this.record.destroy();case 38:if("Guest"!=this.person.get("access")&&"Contractor"!=this.person.get("access")){t.next=42;break}return this.person.set("deleted",!0),t.next=42,this.person.save();case 42:this.dialog=!1,this.getStatus();case 44:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getDate:function(){var t=new Date;return t},toTime:function(t){if(t){var e=t.toTimeString().split(" ")[0];return e=e.slice(0,-3),e}return null},getStatus:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("Absent"===this.status){t.next=4;break}this.statIcon=this.status,t.next=7;break;case 4:return t.next=6,this.getDeparted(this.person);case 6:this.statIcon=t.sent;case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getDeparted:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){var s,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=m.a.Object.extend("Record"),a=new m.a.Query(s),a.greaterThan("depart",this.getYesterday()),a.descending("updatedAt"),a.equalTo("visitor",e),t.next=7,a.first();case 7:if(r=t.sent,!r){t.next=12;break}return t.abrupt("return","Departed");case 12:return t.abrupt("return","Absent");case 13:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getYesterday:function(){var t=new Date,e=t.setTime(t.getTime()-864e5);return new Date(e)}}}),Nt=_t,Rt=(s("96ae"),s("169a")),St=Object(y["a"])(Nt,Ct,kt,!1,null,"3d048cd9",null),Tt=St.exports;b()(St,{VBtn:S["a"],VCard:T["a"],VCardActions:V["a"],VCardTitle:V["c"],VContainer:x["a"],VDialog:Rt["a"],VForm:I["a"],VIcon:D["a"],VSelect:$["a"],VSpacer:j["a"],VTextField:F["a"]});var Vt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{staticClass:"ma-0 pa-0"},[s("v-dialog",t._b({staticClass:"primary",attrs:{width:"80%"},on:{"click:outside":function(e){return t.$emit("reload")}},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[s("v-btn",t._g(t._b({staticClass:"accent"},"v-btn",r,!1),a),[s("v-icon",{staticClass:"pr-1",attrs:{dense:""}},[t._v("mdi-card-account-details-outline")]),s("span",[t._v("Info")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},"v-dialog",{persistent:t.edit},!1),[s("v-form",{ref:"form"},[s("v-card",{staticClass:"pa-4"},[s("v-card-title",[t._v(" Visitor Information "),s("v-spacer"),s("div",{attrs:{id:t.person.id+"btnEdit"}},[s("v-btn",{staticClass:"accent",on:{click:function(e){return t.editBtn()}}},[t._v(" Edit ")])],1),s("div",{staticStyle:{display:"none"},attrs:{id:t.person.id+"btnSave"}},[s("v-btn",{staticClass:"success mr-3",on:{click:function(e){return t.saveBtn()}}},[t._v(" Save ")])],1),s("div",{staticStyle:{display:"none"},attrs:{id:t.person.id+"btnCancel"}},[s("v-btn",{staticClass:"mr-3",attrs:{elevation:"0",color:"info",outlined:""},on:{click:function(e){return t.cancelBtn()}}},[t._v(" Cancel ")])],1),s("div",{staticStyle:{display:"none"},attrs:{id:t.person.id+"btnDelete"}},[s("v-btn",{staticClass:"warning",on:{click:function(e){return t.deleteBtn()}}},[t._v(" Delete ")])],1)],1),s("v-row",[s("v-col",{attrs:{cols:"4"}},[s("v-text-field",t._b({attrs:{color:"accent",label:"First Name",rules:t.visitor.firstNameRules},model:{value:t.visitor.firstName,callback:function(e){t.$set(t.visitor,"firstName",e)},expression:"visitor.firstName"}},"v-text-field",{rounded:!t.edit,readonly:!t.edit,outlined:t.edit},!1))],1),s("v-col",{attrs:{cols:"4"}},[s("v-text-field",t._b({attrs:{color:"accent",label:"Last Name",rules:t.visitor.lastNameRules},model:{value:t.visitor.lastName,callback:function(e){t.$set(t.visitor,"lastName",e)},expression:"visitor.lastName"}},"v-text-field",{rounded:!t.edit,readonly:!t.edit,outlined:t.edit},!1))],1),s("v-col",{attrs:{cols:"4"}},[s("CompanySelect",{staticStyle:{display:"none"},attrs:{company:t.visitor.company,parent:"moreInfo",id:t.person.id+"comp"},on:{"update:company":[function(e){t.visitor.company=e},function(e){return t.$set(t.visitor,"company",e)}]}}),s("div",{attrs:{id:t.person.id+"compText"}},[s("v-text-field",{attrs:{color:"accent",rounded:"",readonly:"",label:"Company"},model:{value:t.visitor.company,callback:function(e){t.$set(t.visitor,"company",e)},expression:"visitor.company"}})],1)],1)],1),s("v-row",[s("v-col",{attrs:{cols:"4"}},[s("v-text-field",t._b({attrs:{color:"accent",label:"Email",rules:t.visitor.emailRules},model:{value:t.visitor.email,callback:function(e){t.$set(t.visitor,"email",e)},expression:"visitor.email"}},"v-text-field",{rounded:!t.edit,readonly:!t.edit,outlined:t.edit},!1))],1),s("v-col",{attrs:{cols:"4"}},[s("div",{attrs:{id:t.person.id+"accText"}},[s("v-text-field",{attrs:{color:"accent",rounded:"",readonly:"",label:"Access"},model:{value:t.visitor.access,callback:function(e){t.$set(t.visitor,"access",e)},expression:"visitor.access"}})],1),s("div",{staticStyle:{display:"none"},attrs:{id:t.person.id+"acc"}},[s("v-select",{attrs:{outlined:"",label:"Access",items:t.accessOptions,id:t.person.id+"accFocus",color:"accent"},on:{focus:function(e){return t.getOptions()}},model:{value:t.visitor.access,callback:function(e){t.$set(t.visitor,"access",e)},expression:"visitor.access"}})],1)]),s("v-col",{attrs:{cols:"4"}},[s("v-text-field",t._b({attrs:{color:"accent",label:"Phone",rules:t.visitor.phoneRules},model:{value:t.visitor.phone,callback:function(e){t.$set(t.visitor,"phone",e)},expression:"visitor.phone"}},"v-text-field",{rounded:!t.edit,readonly:!t.edit,outlined:t.edit},!1))],1)],1),s("v-row",{staticClass:"d-flex justify-space-around"},[s("v-col",{attrs:{cols:"6"}},[s("v-textarea",{attrs:{outlined:"",color:"accent",label:"Notes",rows:"6",readonly:!t.edit},model:{value:t.visitor.notes,callback:function(e){t.$set(t.visitor,"notes",e)},expression:"visitor.notes"}})],1),s("v-col",{attrs:{cols:"3"}},[s("v-checkbox",t._b({attrs:{color:"accent",label:"May Schedule Others"},model:{value:t.visitor.maySchedule,callback:function(e){t.$set(t.visitor,"maySchedule",e)},expression:"visitor.maySchedule"}},"v-checkbox",{readonly:!t.edit},!1))],1),s("v-col",{attrs:{cols:"3"}},[s("v-checkbox",t._b({attrs:{color:"accent",label:"May Request Remote Hands"},model:{value:t.visitor.mayRemote,callback:function(e){t.$set(t.visitor,"mayRemote",e)},expression:"visitor.mayRemote"}},"v-checkbox",{readonly:!t.edit},!1))],1)],1)],1)],1)],1),s("v-dialog",{attrs:{width:"400px"},model:{value:t.dialogDel,callback:function(e){t.dialogDel=e},expression:"dialogDel"}},[s("v-card",[s("v-card-title",[t._v(" Confirm Delete ")]),s("v-card-text",[t._v(" You will no longer be able to add visit records for this visitor. All previous visits will still be avaliable on the Visit History tab. ")]),s("div",{staticClass:"d-flex justify-center"},[s("v-btn",{staticClass:"mr-6 mb-6",attrs:{color:"info",outlined:""},on:{click:function(e){return t.cancelDel()}}},[t._v(" Cancel ")]),s("v-btn",t._b({staticClass:"warning mb-6",on:{click:function(e){return t.confirmDel()}}},"v-btn",{loading:t.delLoading},!1),[t._v(" Delete ")])],1)],1)],1)],1)},Ot=[],Et={props:["person"],data:function(){return{delLoading:!1,dialog:!1,dialogDel:!1,visitor:{firstName:this.person.get("firstName"),firstNameRules:[function(t){return!!t||"First Name is a required field."},function(t){return/^[a-zA-Z]+$/.test(t)||"Invalid First Name"}],lastName:this.person.get("lastName"),lastNameRules:[function(t){return!!t||"Last Name is a required field."},function(t){return/^[a-zA-Z]+$/.test(t)||"Invalid Last Name."}],company:this.person.get("company").get("name"),email:this.person.get("email"),emailRules:[function(t){return!!t||"Email is a required field."}],access:this.person.get("access"),phone:this.person.get("phone"),phoneRules:[function(t){return/^(\+\d{1,2}\s)?\(?\d{3}\)?[\s.-]?\d{3}[\s.-]?\d{4}$/.test(t)||!t||"Invalid Phone Number."}],maySchedule:this.person.get("maySchedule"),mayRemote:this.person.get("mayRemote"),notes:this.person.get("notes")},accessOptions:[],edit:!1}},methods:{getOptions:function(){this.accessOptions=[];var t=m.a.User.current();this.accessOptions=t.get("options")},saveBtn:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.$refs.form.validate()){t.next=18;break}return this.person.set("firstName",this.visitor.firstName),this.person.set("lastName",this.visitor.lastName),this.person.set("email",this.visitor.email),this.person.set("access",this.visitor.access),this.person.set("phone",this.visitor.phone),this.person.set("maySchedule",this.visitor.maySchedule),this.person.set("mayRemote",this.visitor.mayRemote),this.person.set("notes",this.visitor.notes),e=new m.a.Query(m.a.User),e.equalTo("name",this.visitor.company),t.next=13,e.first();case 13:return s=t.sent,this.person.set("company",s),t.next=17,this.person.save();case 17:this.cancelBtn();case 18:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancelBtn:function(){var t,e,s,a,r,n,i,o;this.visitor.firstName=this.person.get("firstName"),this.visitor.lastName=this.person.get("lastName"),this.visitor.company=this.person.get("company").get("name"),this.visitor.email=this.person.get("email"),this.visitor.access=this.person.get("access"),this.visitor.phone=this.person.get("phone"),this.visitor.maySchedule=this.person.get("maySchedule"),this.visitor.mayRemote=this.person.get("mayRemote"),this.visitor.notes=this.person.get("notes"),t=document.getElementById(this.person.id+"compText"),t.style.display="inline",e=document.getElementById(this.person.id+"comp"),e.style.display="none",s=document.getElementById(this.person.id+"accText"),s.style.display="inline",a=document.getElementById(this.person.id+"acc"),a.style.display="none",r=document.getElementById(this.person.id+"btnEdit"),r.style.display="inline",n=document.getElementById(this.person.id+"btnSave"),n.style.display="none",i=document.getElementById(this.person.id+"btnCancel"),i.style.display="none",o=document.getElementById(this.person.id+"btnDelete"),o.style.display="none",this.edit=!1},confirmDel:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.person.set("deleted",!0),this.delLoading=!0,this.person.save().then((function(){e.delLoading=!1})),this.dialogDel=!1,this.cancelBtn(),this.dialog=!1,this.$emit("reload");case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancelDel:function(){this.dialogDel=!1},deleteBtn:function(){this.dialogDel=!0},editBtn:function(){var t,e,s,a,r,n,i,o,c;this.edit=!0,t=document.getElementById(this.person.id+"compText"),t.style.display="none",e=document.getElementById(this.person.id+"comp"),e.style.display="inline",s=document.getElementById(this.person.id+"accText"),s.style.display="none",a=document.getElementById(this.person.id+"acc"),a.style.display="inline",r=document.getElementById(this.person.id+"accFocus"),r.focus(),r.blur(),n=document.getElementById(this.person.id+"btnEdit"),n.style.display="none",i=document.getElementById(this.person.id+"btnSave"),i.style.display="inline",o=document.getElementById(this.person.id+"btnCancel"),o.style.display="inline",c=document.getElementById(this.person.id+"btnDelete"),c.style.display="inline"}},components:{CompanySelect:k}},It=Et,Dt=Object(y["a"])(It,Vt,Ot,!1,null,"ae0008f6",null),At=Dt.exports;b()(Dt,{VBtn:S["a"],VCard:T["a"],VCardText:V["b"],VCardTitle:V["c"],VCheckbox:O["a"],VCol:E["a"],VContainer:x["a"],VDialog:Rt["a"],VForm:I["a"],VIcon:D["a"],VRow:B["a"],VSelect:$["a"],VSpacer:j["a"],VTextField:F["a"],VTextarea:K["a"]});var Bt={data:function(){return{recVisitors:null,filteredPeople:[],visitors:[],guests:[],contractors:[],hideGuestCont:!1,filterTerms:{firstName:"",lastName:"",email:"",access:"",company:""},accessOptions:[]}},created:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var s,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=m.a.Object.extend("Visitor"),a=new m.a.Query(s),e.next=4,a.subscribe();case 4:r=e.sent,r.on("open",(function(){console.log("open visitors made"),t.updateMade()})),r.on("delete",(function(){t.updateMade()})),r.on("create",(function(){t.updateMade()})),r.on("update",(function(){t.updateMade()}));case 9:case"end":return e.stop()}}),e)})))()},methods:{print:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:s="::"+e.get("firstName")+" "+e.get("lastName")+"::"+this.getCompanyName(e)+"::"+e.get("access"),fetch("http://localhost:3080/",{method:"POST",mode:"no-cors",body:s}).then((function(t){console.log(t)}));case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getCompanyName:function(t){var e=t.get("company"),s=e.get("name");return s},recentVisitors:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,s,a,r,n,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.filterTerms.firstName="",this.filterTerms.lastName="",this.filterTerms.email="",this.filterTerms.access="",this.filterTerms.company="",e=m.a.Object.extend("Record"),s=new m.a.Query(e).greaterThan("depart",this.getYesterday()),a=new m.a.Query(e).notEqualTo("status","Departed"),r=m.a.Query.or(s,a),r.descending("createdAt"),r.include("visitor"),t.next=13,r.find();case 13:n=t.sent,i=n.map((function(t){return t.get("visitor")})),o=i.map((function(t){return"Guest"!=t.get("access")||"Contractor"!=t.get("access")?t.id:null})),o=new Set(o),o=Object(xt["a"])(o),this.filteredPeople=i.filter((function(t){var e=o.indexOf(t.id);return-1!==e&&(o.splice(e,1),!0)}));case 19:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getYesterday:function(){var t=new Date,e=t.setTime(t.getTime()-864e5);return new Date(e)},getOptions:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.accessOptions=[],e=m.a.User.current(),this.accessOptions=e.get("options");case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),updateMade:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,s,a,r,n,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=[],s=m.a.User.current(),a=new m.a.Query(m.a.User),a.equalTo("parentCompany",s),t.next=6,a.find();case 6:return e=t.sent,e.push(s),r=m.a.Object.extend("Visitor"),n=new m.a.Query(r),n.notEqualTo("deleted",!0),n.include(["company.name"]),n.containedIn("company",e),n.notContainedIn("access",["Contractor","Guest"]),t.next=16,n.find();case 16:return this.visitors=t.sent,this.visitors=this.visitors.slice(0,20),i=new m.a.Query(r),i.equalTo("access","Guest"),i.containedIn("company",e),i.notEqualTo("deleted",!0),t.next=24,i.find();case 24:return this.guests=t.sent,o=new m.a.Query(r),o.equalTo("access","Contractor"),o.containedIn("company",e),o.notEqualTo("deleted",!0),t.next=31,o.find();case 31:this.contractors=t.sent,this.filterPeople();case 33:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),filterPeople:function(){var t=this;this.filteredPeople=this.visitors.filter((function(e){var s=!0,a=!0,r=!0,n=!0,i=!0;e.get("firstName")&&t.filterTerms.firstName&&(s=e.get("firstName").toLowerCase().includes(t.filterTerms.firstName.toLowerCase())),e.get("lastName")&&t.filterTerms.lastName&&(a=e.get("lastName").toLowerCase().includes(t.filterTerms.lastName.toLowerCase()));var o=e.get("company");return t.filterTerms.company&&(r=o.get("name").includes(t.filterTerms.company)),e.get("email")&&t.filterTerms.email?n=e.get("email").toLowerCase().includes(t.filterTerms.email.toLowerCase()):t.filterTerms.email&&(n=!1),e.get("access")&&t.filterTerms.access&&(i=e.get("access").toLowerCase().includes(t.filterTerms.access.toLowerCase())),1==s&&1==a&&1==r&&1==n&&1==i})),this.filteredPeople.length!=this.visitors.length?this.hideGuestCont=!0:this.hideGuestCont=!1}},components:{NewRecord:Tt,MoreInfo:At,CompanySelect:k}},$t=Bt,jt=(s("0d4a"),s("71d9")),Ft=Object(y["a"])($t,bt,wt,!1,null,"1325b84a",null),Pt=Ft.exports;b()(Ft,{VBtn:S["a"],VCol:E["a"],VContainer:x["a"],VForm:I["a"],VIcon:D["a"],VList:rt["a"],VListItem:nt["a"],VRow:B["a"],VSelect:$["a"],VSpacer:j["a"],VTextField:F["a"],VToolbar:jt["a"]});var Lt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{background:"","fill-height":"",fluid:""}},[s("v-row",{staticClass:"mx-4 d-flex justify-center primary",staticStyle:{height:"35%"}},[s("v-col",{staticClass:"primary",staticStyle:{height:"100%"},attrs:{cols:"6"}},[s("v-row",[s("span",{staticStyle:{padding:"0px 0px 0px 20px","font-size":"32px","font-weight":"bold"}},[t._v("Account Information")]),s("v-spacer"),s("div",{attrs:{id:"edit"}},[s("v-btn",{staticClass:"mr-6 mt-2 accent",on:{click:function(e){return t.editBtn()}}},[t._v(" Edit ")])],1),s("div",{staticStyle:{display:"none"},attrs:{id:"save"}},[s("v-btn",{staticClass:"mr-3 mt-2 success",on:{click:function(e){return t.saveBtn()}}},[t._v(" Save ")])],1),s("div",{staticStyle:{display:"none"},attrs:{id:"cancel"}},[s("v-btn",{staticClass:"mr-3 mt-2 info",on:{click:function(e){return t.cancelBtn()}}},[t._v(" Cancel ")])],1)],1),s("v-row",{staticStyle:{height:"60px"}},[s("v-text-field",t._b({staticStyle:{"font-size":"16px"},attrs:{label:"Username",color:"accent"},model:{value:t.user.tempName,callback:function(e){t.$set(t.user,"tempName",e)},expression:"user.tempName"}},"v-text-field",{readonly:!t.edit,rounded:!t.edit,outlined:t.edit},!1))],1),s("v-row",{staticStyle:{height:"60px"}},[s("v-text-field",t._b({staticStyle:{"font-size":"16px"},attrs:{label:"Email",color:"accent"},model:{value:t.user.tempEmail,callback:function(e){t.$set(t.user,"tempEmail",e)},expression:"user.tempEmail"}},"v-text-field",{readonly:!t.edit,rounded:!t.edit,outlined:t.edit},!1))],1),s("v-row",[s("v-btn",{staticClass:"ml-6 accent",on:{click:function(e){return t.resetPassword(t.user.email)}}},[t._v(" Reset Password ")])],1)],1),s("v-col",{staticClass:"primary",staticStyle:{height:"100%"},attrs:{cols:"4"}},[s("v-toolbar",{staticClass:"secondary",staticStyle:{"font-weight":"bold",height:"30%"}},[s("v-toolbar-title",{staticClass:"primary--text"},[t._v(" Access Options ")]),s("v-spacer"),s("v-btn",{staticClass:"accent mr-3",attrs:{fab:"","x-small":""},on:{click:function(e){return t.addAccessOption()}}},[s("v-icon",[t._v("mdi-plus")])],1)],1),s("v-list",{staticClass:"access secondary",staticStyle:{height:"70%","border-radius":"0"}},t._l(t.accessOptions,(function(e){return s("v-list-item",{key:e,staticStyle:{"border-radius":"0"}},[s("span",{staticClass:"primary--text"},[t._v(t._s(e))]),s("v-spacer"),s("v-btn",{staticClass:"accent",attrs:{fab:"","x-small":""},on:{click:function(s){return t.deleteAccessOption(e)}}},[s("v-icon",[t._v("mdi-minus")])],1)],1)})),1)],1)],1),s("v-row",{staticClass:"mx-4",staticStyle:{height:"100%"}},[s("v-col",{staticClass:"primary",staticStyle:{height:"100%"},attrs:{cols:"12"}},[s("v-toolbar",{staticClass:"secondary primary--text",staticStyle:{height:"13%"}},[s("div",{staticStyle:{width:"25%"}},[t._v(" Client Name ")]),s("div",{staticStyle:{width:"25%"}},[t._v(" Client Username ")]),s("div",{staticStyle:{width:"25%"}},[t._v(" Email ")]),s("v-spacer"),s("v-btn",{staticClass:"accent mr-3",attrs:{fab:"","x-small":""},on:{click:function(e){return t.addClient()}}},[s("v-icon",[t._v("mdi-plus")])],1)],1),s("v-list",{staticClass:"client secondary",staticStyle:{"border-radius":"0",height:"87%"}},t._l(t.clients,(function(e){return s("v-list-item",{key:e.username},[s("span",{staticClass:"primary--text",staticStyle:{width:"25%"}},[t._v(" "+t._s(e.get("name")))]),s("span",{staticClass:"primary--text",staticStyle:{width:"25%"}},[t._v(" "+t._s(e.get("username")))]),s("span",{staticClass:"primary--text",staticStyle:{width:"25%"}},[t._v(" "+t._s("null")+" ")]),s("v-spacer"),s("v-btn",{staticClass:"accent"},[t._v("Reset Password")]),s("v-btn",{staticClass:"accent ml-5",attrs:{fab:"","x-small":""},on:{click:function(s){return t.deleteClient(e)}}},[s("v-icon",[t._v("mdi-minus")])],1)],1)})),1)],1)],1),s("v-dialog",{attrs:{persistent:"",width:"400px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",[s("v-card-title",[t._v(" Enter Password ")]),s("v-text-field",t._b({staticClass:"mx-5",attrs:{type:"password","error-messages":t.errorMsg,outlined:"",label:"password"},model:{value:t.user.tempPassword,callback:function(e){t.$set(t.user,"tempPassword",e)},expression:"user.tempPassword"}},"v-text-field",{error:t.error},!1)),s("div",{staticClass:"d-flex justify-space-around"},[s("v-btn",{staticClass:"success mb-5",on:{click:function(e){return t.submitBtn()}}},[t._v(" Submit ")]),s("v-btn",t._b({staticClass:"accent mb-5",on:{click:function(e){return t.submitCancel()}}},"v-btn",{loading:t.cancelLoading},!1),[t._v(" Cancel ")])],1)],1)],1),s("v-dialog",{attrs:{persistent:"",width:"400px"},model:{value:t.accessDialog,callback:function(e){t.accessDialog=e},expression:"accessDialog"}},[s("v-card",[s("v-card-title",[t._v(" Enter Access Name ")]),s("v-text-field",{staticClass:"mx-5",attrs:{outlined:"",label:"Name"},model:{value:t.newAccessOption,callback:function(e){t.newAccessOption=e},expression:"newAccessOption"}}),s("div",{staticClass:"d-flex justify-space-around"},[s("v-btn",{staticClass:"success mb-5",on:{click:function(e){return t.submitAccessBtn()}}},[t._v(" Submit ")]),s("v-btn",{staticClass:"accent mb-5",on:{click:function(e){return t.cancelAccessBtn()}}},[t._v(" Cancel ")])],1)],1)],1),s("v-dialog",{attrs:{persistent:"",width:"400px"},model:{value:t.clientDialog,callback:function(e){t.clientDialog=e},expression:"clientDialog"}},[s("v-card",[s("v-card-title",[t._v(" Enter Client Information ")]),s("v-text-field",{staticClass:"mx-5",attrs:{outlined:"",label:"Name"},model:{value:t.newClient.name,callback:function(e){t.$set(t.newClient,"name",e)},expression:"newClient.name"}}),s("v-text-field",{staticClass:"mx-5",attrs:{outlined:"",label:"Username"},model:{value:t.newClient.username,callback:function(e){t.$set(t.newClient,"username",e)},expression:"newClient.username"}}),s("v-text-field",{staticClass:"mx-5",attrs:{outlined:"",label:"Email"},model:{value:t.newClient.email,callback:function(e){t.$set(t.newClient,"email",e)},expression:"newClient.email"}}),s("div",{staticClass:"d-flex justify-space-around"},[s("v-btn",{staticClass:"success mb-5",on:{click:function(e){return t.submitClientBtn()}}},[t._v(" Submit ")]),s("v-btn",{staticClass:"accent mb-5",on:{click:function(e){return t.cancelClientBtn()}}},[t._v(" Cancel ")])],1)],1)],1),s("v-alert",{staticClass:"alert",attrs:{dismissible:"",type:"error",prominent:""},model:{value:t.resPassErr,callback:function(e){t.resPassErr=e},expression:"resPassErr"}},[t._v(" An error occurred while resetting password."),s("br"),t._v(" Please contact support. ")]),s("v-alert",{staticClass:"alert",attrs:{dismissible:"",type:"success",prominent:""},model:{value:t.resPassSuc,callback:function(e){t.resPassSuc=e},expression:"resPassSuc"}},[t._v(" An email has been sent to the account's inbox. ")])],1)},Ut=[],Mt=(s("b0c0"),{data:function(){return{user:{tempName:null,username:null,tempEmail:null,email:null,tempPassword:null,password:null},newClient:{name:null,username:null,email:null},clients:[],edit:!1,dialog:!1,accessDialog:!1,clientDialog:!1,error:!1,errorMsg:null,accessOptions:[],newAccessOption:null,cancelLoading:!1,resPassErr:!1,resPassSuc:!1}},beforeMount:function(){this.getUser(),this.getAccessOptions(),this.getClients()},methods:{getClients:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=new m.a.Query(m.a.User),e.equalTo("parentCompany",m.a.User.current()),t.next=4,e.find();case 4:this.clients=t.sent;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getUser:function(){var t=m.a.User.current();this.user.tempName=t.get("username"),this.user.username=t.get("username"),this.user.tempEmail=t.get("email"),this.user.email=t.get("email")},getAccessOptions:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=m.a.User.current(),this.accessOptions=e.get("options");case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),resetPassword:function(t){var e=this;m.a.User.requestPasswordReset(t).then((function(){e.resPassSuc=!0}),(function(t){console.log(t),e.resPassErr=!0}))},deleteClient:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log(e);case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),addClient:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.user.password?(e=this.user.username,s=this.user.password,this.clientDialog=!0,this.$once("new-client",Object(c["a"])(regeneratorRuntime.mark((function t(){var a,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=new m.a.User,a.set("username",this.newClient.username),a.set("name",this.newClient.name),a.set("email",this.newClient.email),a.set("password","password"),a.set("parentCompany",m.a.User.current()),a.signUp().then((function(){m.a.User.logIn(e,s).then((function(){console.log(m.a.User.current()),console.log(r+" first"),r.getClients()}))}));case 7:case"end":return t.stop()}}),t,this)}))))):(this.dialog=!0,this.$once("password-correct",Object(c["a"])(regeneratorRuntime.mark((function t(){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=this.user.username,s=this.user.password,this.clientDialog=!0,this.$once("new-client",Object(c["a"])(regeneratorRuntime.mark((function t(){var a,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=new m.a.User,a.set("username",this.newClient.username),a.set("name",this.newClient.name),a.set("email",this.newClient.email),a.set("password","password"),a.set("parentCompany",m.a.User.current()),console.log(this+" outside"),a.signUp().then((function(){m.a.User.logIn(e,s).then((function(){console.log(m.a.User.current()),console.log(r+" first"),r.getClients()}))}));case 8:case"end":return t.stop()}}),t,this)}))));case 4:case"end":return t.stop()}}),t,this)})))));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),submitClientBtn:function(){this.$emit("new-client"),this.clientDialog=!1,this.newClient.email=null,this.newClient.username=null,this.newClient.name=null,console.log("submit")},cancelClientBtn:function(){this.clientDialog=!1,this.newClient.email=null,this.newClient.username=null,this.newClient.name=null,console.log("cancel")},submitAccessBtn:function(){this.$emit("access-name")},cancelAccessBtn:function(){this.newAccessOption=null,this.accessDialog=!1},addAccessOption:function(){var t=this;this.user.password?m.a.User.logIn(this.user.username,this.user.password).then((function(e){t.accessDialog=!0,t.$once("access-name",(function(){this.accessOptions.push(this.newAccessOption),e.set("options",this.accessOptions),e.save(),this.cancelAccessBtn()})),t.getAccessOptions()})):(this.dialog=!0,this.$once("password-correct",(function(){var t=this;m.a.User.logIn(this.user.username,this.user.password).then((function(e){t.accessDialog=!0,t.$once("access-name",(function(){this.accessOptions.push(this.newAccessOption),e.set("options",this.accessOptions),e.save(),this.cancelAccessBtn()})),t.getAccessOptions()}))})))},deleteAccessOption:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){var s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.user.password?m.a.User.logIn(this.user.username,this.user.password).then((function(t){s.accessOptions.splice(s.accessOptions.indexOf(e),1),t.set("options",s.accessOptions),t.save(),s.getAccessOptions()})):(this.dialog=!0,this.$once("password-correct",(function(){var t=this;m.a.User.logIn(this.user.username,this.user.password).then((function(s){var a=t.accessOptions.indexOf(e);-1!==a&&(t.accessOptions.splice(a,1),s.set("options",t.accessOptions),s.save()),t.getAccessOptions()}))})));case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),submitBtn:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.a.User.logIn(this.user.username,this.user.tempPassword).then((function(){e.user.password=e.user.tempPassword,e.$emit("password-correct"),e.dialog=!1}),(function(t){e.error=!0,e.errorMsg=t.message}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),submitCancel:function(){this.user.tempName=this.user.username,this.user.tempEmail=this.user.email,this.user.tempPassword=null,this.error=!1,this.errorMsg=null,this.dialog=!1,this.cancelLoading=!0,location.reload()},editBtn:function(){var t,e,s;this.edit=!0,t=document.getElementById("edit"),t.style.display="none",e=document.getElementById("save"),e.style.display="inline",s=document.getElementById("cancel"),s.style.display="inline"},saveBtn:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,s,a,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.error=!1,this.errorMsg=null,this.user.tempPassword=null,this.user.password?m.a.User.logIn(this.user.username,this.user.password).then((function(t){t.set("username",r.user.tempName),t.set("email",r.user.tempEmail),t.save(),r.getUser()})):(this.dialog=!0,this.$once("password-correct",(function(){var t=this;m.a.User.logIn(this.user.username,this.user.password).then((function(e){e.set("username",t.user.tempName),e.set("email",t.user.tempEmail),e.save(),t.getUser()}))}))),this.edit=!1,e=document.getElementById("edit"),e.style.display="inline",s=document.getElementById("save"),s.style.display="none",a=document.getElementById("cancel"),a.style.display="none";case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancelBtn:function(){var t,e,s;this.edit=!1,t=document.getElementById("edit"),t.style.display="inline",e=document.getElementById("save"),e.style.display="none",s=document.getElementById("cancel"),s.style.display="none",this.getUser()}}}),qt=Mt,zt=(s("e989"),Object(y["a"])(qt,Lt,Ut,!1,null,"3913e7f6",null)),Qt=zt.exports;b()(zt,{VAlert:R["a"],VBtn:S["a"],VCard:T["a"],VCardTitle:V["c"],VCol:E["a"],VContainer:x["a"],VDialog:Rt["a"],VIcon:D["a"],VList:rt["a"],VListItem:nt["a"],VRow:B["a"],VSpacer:j["a"],VTextField:F["a"],VToolbar:jt["a"],VToolbarTitle:lt["a"]});var Gt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{background:"",fluid:"","fill-height":""}},[s("v-row",{staticClass:"mx-4",staticStyle:{height:"100%"}},[s("v-form",{staticClass:"form primary"},[s("v-row",[s("v-col",{attrs:{cols:"4"}},[s("div",{staticStyle:{margin:"10px"}},[s("v-text-field",{attrs:{label:"First Name",outlined:"",color:"accent"},on:{input:function(e){return t.filterRecords()}},model:{value:t.filterTerms.firstName,callback:function(e){t.$set(t.filterTerms,"firstName",e)},expression:"filterTerms.firstName"}}),s("v-text-field",{attrs:{label:"Last Name",outlined:"",color:"accent"},on:{input:function(e){return t.filterRecords()}},model:{value:t.filterTerms.lastName,callback:function(e){t.$set(t.filterTerms,"lastName",e)},expression:"filterTerms.lastName"}})],1)]),s("v-col",{attrs:{cols:"4"}},[s("div",{staticStyle:{margin:"10px"}},[s("CompanySelect",{attrs:{company:t.filterTerms.company,parent:"dashboard"},on:{"update:company":[function(e){t.filterTerms.company=e,t.filterRecords()},function(e){return t.$set(t.filterTerms,"company",e)}]}}),s("v-text-field",{attrs:{label:"Email",outlined:"",color:"accent"},on:{input:function(e){return t.filterRecords()}},model:{value:t.filterTerms.email,callback:function(e){t.$set(t.filterTerms,"email",e)},expression:"filterTerms.email"}})],1)]),s("v-col",{attrs:{cols:"4"}},[s("v-card",{staticClass:"date",attrs:{height:"90%"}},[s("v-row",{staticClass:"date2"},[s("v-btn",{staticClass:"accent",on:{click:function(e){return t.daysAgo(30)}}},[t._v(" 30 days ")]),s("v-btn",{staticClass:"accent",on:{click:function(e){return t.daysAgo(90)}}},[t._v(" 90 days ")]),s("v-btn",{staticClass:"accent",on:{click:function(e){return t.daysAgo(0)}}},[t._v(" Year to Date ")])],1),s("v-row",{staticClass:"date2"},[s("v-menu",{attrs:{transition:"scale-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[s("v-text-field",t._g(t._b({staticStyle:{"max-width":"40%"},attrs:{label:"Start Date",readonly:"",outlined:"",clearable:"",color:"accent"},on:{input:function(e){return t.filterRecords()}},model:{value:t.filterTerms.start,callback:function(e){t.$set(t.filterTerms,"start",e)},expression:"filterTerms.start"}},"v-text-field",r,!1),a))]}}]),model:{value:t.startMenu,callback:function(e){t.startMenu=e},expression:"startMenu"}},[s("v-date-picker",{attrs:{"no-title":"",scrollable:""},on:{input:function(e){return t.filterRecords()}},model:{value:t.filterTerms.start,callback:function(e){t.$set(t.filterTerms,"start",e)},expression:"filterTerms.start"}})],1),s("v-menu",{attrs:{transition:"scale-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[s("v-text-field",t._g(t._b({staticStyle:{"max-width":"40%"},attrs:{label:"End Date",readonly:"",outlined:"",clearable:"",color:"accent"},on:{input:function(e){return t.filterRecords()}},model:{value:t.filterTerms.end,callback:function(e){t.$set(t.filterTerms,"end",e)},expression:"filterTerms.end"}},"v-text-field",r,!1),a))]}}]),model:{value:t.endMenu,callback:function(e){t.endMenu=e},expression:"endMenu"}},[s("v-date-picker",{attrs:{"no-title":"",scrollable:""},on:{input:function(e){return t.filterRecords()}},model:{value:t.filterTerms.end,callback:function(e){t.$set(t.filterTerms,"end",e)},expression:"filterTerms.end"}})],1)],1)],1)],1)],1)],1),s("v-col",{staticClass:"primary",staticStyle:{"border-radius":"0px 0px 10px 10px",width:"100%",height:"80%"}},[s("v-toolbar",{staticClass:"secondary"},[s("div",{staticStyle:{width:"10%"}},[s("v-btn",{staticClass:"sort secondary text--white",attrs:{elevation:"0"},on:{click:function(e){return t.sortBy(0)}}},[s("span",[t._v("First Name")]),s("v-row",[s("v-icon",{staticClass:"up",attrs:{id:"asc0"}},[t._v("mdi-menu-up")])],1),s("v-row",[s("v-icon",{staticClass:"down",attrs:{id:"des0"}},[t._v("mdi-menu-down")])],1)],1)],1),s("div",{staticStyle:{width:"15%"}},[s("v-btn",{staticClass:"sort secondary text--white",attrs:{elevation:"0"},on:{click:function(e){return t.sortBy(1)}}},[s("span",[t._v("Last Name")]),s("v-row",[s("v-icon",{staticClass:"up",attrs:{id:"asc1"}},[t._v("mdi-menu-up")])],1),s("v-row",[s("v-icon",{staticClass:"down",attrs:{id:"des1"}},[t._v("mdi-menu-down")])],1)],1)],1),s("div",{staticStyle:{width:"20%"}},[s("v-btn",{staticClass:"sort secondary text--white",attrs:{elevation:"0"},on:{click:function(e){return t.sortBy(2)}}},[s("span",[t._v("Company")]),s("v-row",[s("v-icon",{staticClass:"up",attrs:{id:"asc2"}},[t._v("mdi-menu-up")])],1),s("v-row",[s("v-icon",{staticClass:"down",attrs:{id:"des2"}},[t._v("mdi-menu-down")])],1)],1)],1),s("div",{staticStyle:{width:"25%"}},[s("v-btn",{staticClass:"sort secondary text--white",attrs:{elevation:"0"},on:{click:function(e){return t.sortBy(3)}}},[s("span",[t._v("Email")]),s("v-row",[s("v-icon",{staticClass:"up",attrs:{id:"asc3"}},[t._v("mdi-menu-up")])],1),s("v-row",[s("v-icon",{staticClass:"down",attrs:{id:"des3"}},[t._v("mdi-menu-down")])],1)],1)],1),s("div",{staticStyle:{width:"15%"}},[s("v-btn",{staticClass:"sort secondary text--white",attrs:{elevation:"0"},on:{click:function(e){return t.sortBy(4)}}},[s("span",[t._v("Arrive")]),s("v-row",[s("v-icon",{staticClass:"up",attrs:{id:"asc4"}},[t._v("mdi-menu-up")])],1),s("v-row",[s("v-icon",{staticClass:"down",attrs:{id:"des4"}},[t._v("mdi-menu-down")])],1)],1)],1),s("div",{staticStyle:{width:"15%"}},[s("v-btn",{staticClass:"sort secondary text--white",attrs:{elevation:"0"},on:{click:function(e){return t.sortBy(5)}}},[s("span",[t._v("Depart")]),s("v-row",[s("v-icon",{staticClass:"up",attrs:{id:"asc5"}},[t._v("mdi-menu-up")])],1),s("v-row",[s("v-icon",{staticClass:"down",attrs:{id:"des5"}},[t._v("mdi-menu-down")])],1)],1)],1)]),s("v-list",{staticClass:"secondary",staticStyle:{padding:"16px"}},[t._l(t.recordsDisplay,(function(e){return s("v-list-item",{key:e.id,class:t.changeClass(e.access),staticStyle:{padding:"0px"}},[s("v-row",{staticStyle:{padding:"0px 16px 0px 16px"}},[s("span",{staticClass:"primary--text",staticStyle:{width:"10%"}},[t._v(t._s(e.firstName))]),s("span",{staticClass:"primary--text",staticStyle:{width:"15%"}},[t._v(t._s(e.lastName))]),s("span",{staticClass:"primary--text",staticStyle:{width:"20%"}},[t._v(t._s(e.company))]),s("span",{staticClass:"primary--text",staticStyle:{width:"25%"}},[t._v(t._s(e.email))]),s("span",{staticClass:"primary--text",staticStyle:{width:"15%"}},[t._v(t._s(e.arrive))]),s("span",{staticClass:"primary--text",staticStyle:{width:"15%"}},[t._v(t._s(e.depart))])])],1)})),s("v-btn",{staticClass:"floater",attrs:{color:"accent"},on:{click:function(e){return t.exportToCSV()}}},[t._v(" Export ")])],2),s("v-pagination",{attrs:{color:"accent",dark:"",length:t.pages,"total-visible":"5"},on:{input:function(e){return t.displayRecords()}},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)},Ht=[],Yt=(s("99af"),s("a15b"),s("3835")),Zt={components:{CompanySelect:k},data:function(){return{objRecords:[],records:[],recordsFinal:[],recordsDisplay:[],sort:0,lastBtn:null,filterTerms:{firstName:null,lastName:null,company:null,email:null,start:null,end:null},currentPage:1,pages:null,startMenu:!1,endMenu:!1}},beforeMount:function(){this.getRecords()},methods:{exportToCSV:function(){var t=[];t.push(["First Name","Last Name","Company","Email","Phone Number","Access","May Request Remote Hands","May Schedule Others","Arrival","Departure"]),this.recordsFinal.forEach((function(e){var s=[];s.push(e.firstName),s.push(e.lastName),s.push(e.company),s.push(e.email),s.push(e.phone),s.push(e.access),s.push(e.mayRemote),s.push(e.maySchedule),s.push(e.arrive),s.push(e.depart),t.push(s)}));var e="data:text/csv;charset=utf-8,"+t.map((function(t){return t.join(",")})).join("\n"),s=encodeURI(e),a=document.createElement("a");a.setAttribute("href",s),a.setAttribute("download","visitRecords.csv"),document.body.appendChild(a),a.click()},changeClass:function(t){return"Guest"==t||"Contractor"==t?"guestCont":null},daysAgo:function(t){var e=new Date;e.setTime(e.getTime()-864e5*t);var s=e.getFullYear(),a="0"+(e.getMonth()+1),r="0"+e.getDate();0==t&&(a="01",r="01"),this.filterTerms.start=s+"-"+a.slice(-2)+"-"+r.slice(-2),this.filterRecords()},formatDateInputs:function(t){var e=t.substring(0,10).split("/"),s=Object(Yt["a"])(e,3),a=s[0],r=s[1],n=s[2];return"".concat(n,"-").concat(a,"-").concat(r)},displayRecords:function(){this.recordsDisplay=this.recordsFinal.slice(20*(this.currentPage-1),20*this.currentPage)},calcPages:function(){this.pages=Math.ceil(this.recordsFinal.length/20),this.displayRecords()},filterRecords:function(){var t=this;this.recordsFinal=this.objRecords.filter((function(e){var s=!0,a=!0,r=!0,n=!0,i=!0;return t.filterTerms.firstName&&(s=e.firstName.toLowerCase().includes(t.filterTerms.firstName.toLowerCase())),t.filterTerms.lastName&&(a=e.lastName.toLowerCase().includes(t.filterTerms.lastName.toLowerCase())),t.filterTerms.company&&(r=e.company.toLowerCase().includes(t.filterTerms.company.toLowerCase())),t.filterTerms.email&&(n=e.email.toLowerCase().includes(t.filterTerms.email.toLowerCase())),t.filterTerms.start&&t.filterTerms.end?i=new Date(t.formatDateInputs(e.depart))<=new Date(t.filterTerms.end)&&new Date(t.formatDateInputs(e.depart))>=new Date(t.filterTerms.start):t.filterTerms.start?i=new Date(t.formatDateInputs(e.depart))>=new Date(t.filterTerms.start):t.filterTerms.end&&(i=new Date(t.formatDateInputs(e.depart))<=new Date(t.filterTerms.end)),1==s&&1==a&&1==n&&1==r&&1==i})),this.calcPages()},sortBy:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!=this.sort||null!=this.lastBtn){t.next=5;break}this.sort=1,this.sortSwitch(e),t.next=14;break;case 5:if(e===this.lastBtn){t.next=12;break}return this.sort=1,t.next=9,this.reformatOldSwitch();case 9:this.sortSwitch(e),t.next=14;break;case 12:this.sort+=1,this.sortSwitch(e);case 14:this.lastBtn=e;case 15:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),reformatOldSwitch:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,document.getElementById("asc"+this.lastBtn);case 2:return e=t.sent,t.next=5,document.getElementById("des"+this.lastBtn);case 5:s=t.sent,e.style.color="grey",s.style.color="grey";case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),sortSwitch:function(t){switch(t){case 0:var e=document.getElementById("asc0"),s=document.getElementById("des0");this.sort%3==0?(e.style.color="grey",s.style.color="grey",this.sortRecords()):this.sort%3==1?(e.style.color="grey",s.style.color="#9e1f63",this.sortRecords(void 0,"firstName","des")):(e.style.color="#9e1f63",s.style.color="grey",this.sortRecords(void 0,"firstName","asc"));break;case 1:var a=document.getElementById("asc1"),r=document.getElementById("des1");this.sort%3==0?(a.style.color="grey",r.style.color="grey",this.sortRecords()):this.sort%3==1?(a.style.color="grey",r.style.color="#9e1f63",this.sortRecords(void 0,"lastName","des")):(a.style.color="#9e1f63",r.style.color="grey",this.sortRecords(void 0,"lastName","asc"));break;case 2:var n=document.getElementById("asc2"),i=document.getElementById("des2");this.sort%3==0?(n.style.color="grey",i.style.color="grey",this.sortRecords()):this.sort%3==1?(n.style.color="grey",i.style.color="#9e1f63",this.sortRecords(void 0,"company","des")):(n.style.color="#9e1f63",i.style.color="grey",this.sortRecords(void 0,"company","asc"));break;case 3:var o=document.getElementById("asc3"),c=document.getElementById("des3");this.sort%3==0?(o.style.color="grey",c.style.color="grey",this.sortRecords()):this.sort%3==1?(o.style.color="grey",c.style.color="#9e1f63",this.sortRecords(void 0,"email","des")):(o.style.color="#9e1f63",c.style.color="grey",this.sortRecords(void 0,"email","asc"));break;case 4:var l=document.getElementById("asc4"),u=document.getElementById("des4");this.sort%3==0?(l.style.color="grey",u.style.color="grey",this.sortRecords()):this.sort%3==1?(l.style.color="grey",u.style.color="#9e1f63",this.sortRecords(void 0,"arrive","des")):(l.style.color="#9e1f63",u.style.color="grey",this.sortRecords(void 0,"arrive","asc"));break;case 5:var d=document.getElementById("asc5"),m=document.getElementById("des5");this.sort%3==0?(d.style.color="grey",m.style.color="grey",this.sortRecords()):this.sort%3==1?(d.style.color="grey",m.style.color="#9e1f63",this.sortRecords(void 0,"depart","des")):(d.style.color="#9e1f63",m.style.color="grey",this.sortRecords(void 0,"depart","asc"));break}},sortRecords:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,s,a,r,n,i,o,c,l,u,d,m,p,v,f,h,y,g,b,w,x,C,k,_,N,R,S,T,V,O,E,I,D,A,B,$=this,j=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=j.length>0&&void 0!==j[0]?j[0]:this.records,s=j.length>1&&void 0!==j[1]?j[1]:"company",a=j.length>2&&void 0!==j[2]?j[2]:"des",t.t0=s,t.next="firstName"===t.t0?6:"lastName"===t.t0?27:"company"===t.t0?48:"email"===t.t0?72:"arrive"===t.t0?93:"depart"===t.t0?114:135;break;case 6:r=1;case 7:if(!(r<e.length)){t.next=26;break}n=1,i=e[r].get("visitor"),o=e[r-n].get("visitor");case 11:if(!(i.get("firstName").toLowerCase()<o.get("firstName").toLowerCase())){t.next=23;break}if(c=e[r-n],e[r-n]=e[r-n+1],e[r-n+1]=c,r-n===0){t.next=20;break}n++,o=e[r-n].get("visitor"),t.next=21;break;case 20:return t.abrupt("break",23);case 21:t.next=11;break;case 23:r++,t.next=7;break;case 26:return t.abrupt("break",135);case 27:l=1;case 28:if(!(l<e.length)){t.next=47;break}u=1,d=e[l].get("visitor"),m=e[l-u].get("visitor");case 32:if(!(d.get("lastName").toLowerCase()<m.get("lastName").toLowerCase())){t.next=44;break}if(p=e[l-u],e[l-u]=e[l-u+1],e[l-u+1]=p,l-u===0){t.next=41;break}u++,m=e[l-u].get("visitor"),t.next=42;break;case 41:return t.abrupt("break",44);case 42:t.next=32;break;case 44:l++,t.next=28;break;case 47:return t.abrupt("break",135);case 48:v=1;case 49:if(!(v<e.length)){t.next=71;break}f=1,h=e[v].get("visitor"),y=e[v-f].get("visitor"),g=h.get("company"),b=y.get("company");case 55:if(!(g.get("name").toLowerCase()<b.get("name").toLowerCase())){t.next=68;break}if(w=e[v-f],e[v-f]=e[v-f+1],e[v-f+1]=w,v-f===0){t.next=65;break}f++,y=e[v-f].get("visitor"),b=y.get("company"),t.next=66;break;case 65:return t.abrupt("break",68);case 66:t.next=55;break;case 68:v++,t.next=49;break;case 71:return t.abrupt("break",135);case 72:x=1;case 73:if(!(x<e.length)){t.next=92;break}C=1,k=e[x].get("visitor"),_=e[x-C].get("visitor");case 77:if(!(k.get("email").toLowerCase()<_.get("email").toLowerCase())){t.next=89;break}if(N=e[x-C],e[x-C]=e[x-C+1],e[x-C+1]=N,x-C===0){t.next=86;break}C++,_=e[x-C].get("visitor"),t.next=87;break;case 86:return t.abrupt("break",89);case 87:t.next=77;break;case 89:x++,t.next=73;break;case 92:return t.abrupt("break",135);case 93:R=1;case 94:if(!(R<e.length)){t.next=113;break}S=1,T=e[R].get("arrive"),V=e[R-S].get("arrive");case 98:if(!(T>V)){t.next=110;break}if(O=e[R-S],e[R-S]=e[R-S+1],e[R-S+1]=O,R-S===0){t.next=107;break}S++,V=e[R-S].get("arrive"),t.next=108;break;case 107:return t.abrupt("break",110);case 108:t.next=98;break;case 110:R++,t.next=94;break;case 113:return t.abrupt("break",135);case 114:E=1;case 115:if(!(E<e.length)){t.next=134;break}I=1,D=e[E].get("depart"),A=e[E-I].get("depart");case 119:if(!(D>A)){t.next=131;break}if(B=e[E-I],e[E-I]=e[E-I+1],e[E-I+1]=B,E-I===0){t.next=128;break}I++,A=e[E-I].get("depart"),t.next=129;break;case 128:return t.abrupt("break",131);case 129:t.next=119;break;case 131:E++,t.next=115;break;case 134:return t.abrupt("break",135);case 135:"asc"==a&&e.reverse(),this.objRecords=[],e.forEach((function(t){var e={firstName:null,lastName:null,email:null,company:null,access:null,arrive:null,depart:null},s=t.get("visitor"),a=s.get("company");e.company=a.get("name"),e.arrive=$.formatDate(t.get("arrive")),e.depart=$.formatDate(t.get("depart")),e.firstName=s.get("firstName"),e.lastName=s.get("lastName"),e.email=s.get("email"),e.access=s.get("access"),e.mayRemote=s.get("mayRemote"),e.maySchedule=s.get("maySchedule"),e.phone=s.get("phone"),$.objRecords.push(e)})),this.filterRecords();case 139:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getRecords:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.records=[],e=m.a.Object.extend("Record"),s=new m.a.Query(e),s.exists("depart"),s.include(["visitor.company"]),t.next=7,s.find();case 7:this.records=t.sent,this.sortRecords();case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),formatDate:function(t){var e,s="0"+(t.getMonth()+1),a="0"+t.getDate(),r=t.getFullYear(),n=t.getHours(),i="0"+t.getMinutes();n<12?(e="am",n="0"+n):12==n?(e="pm",n="0"+n):24==n?(e="am",n="0"+(n-12)):(e="pm",n="0"+(n-12));var o=s.slice(-2)+"/"+a.slice(-2)+"/"+r+" - "+n.slice(-2)+":"+i.slice(-2)+e;return o}}},Jt=Zt,Kt=(s("ff8c"),s("2e4b")),Wt=s("891e"),Xt=Object(y["a"])(Jt,Gt,Ht,!1,null,"2d4aae1e",null),te=Xt.exports;b()(Xt,{VBtn:S["a"],VCard:T["a"],VCol:E["a"],VContainer:x["a"],VDatePicker:Kt["a"],VForm:I["a"],VIcon:D["a"],VList:rt["a"],VListItem:nt["a"],VMenu:A["a"],VPagination:Wt["a"],VRow:B["a"],VTextField:F["a"],VToolbar:jt["a"]});var ee=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("v-card",{staticClass:"elevation-12"},[s("v-toolbar",{attrs:{color:"primary",flat:""}},[s("v-toolbar-title",[t._v(" Login form ")])],1),s("v-card-text",[s("v-form",[s("v-text-field",{attrs:{label:"Username","prepend-icon":"mdi-account",type:"text",outlined:"",color:"accent",rules:t.usernameRules},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),s("v-text-field",{attrs:{label:"Password","prepend-icon":"mdi-lock",type:"password",outlined:"",color:"accent",rules:t.passwordRules},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"accent"},on:{click:function(e){return t.login()}}},[t._v("Login")])],1)],1)],1)},se=[],ae={data:function(){return{password:"",passwordRules:[function(t){return!!t||"Please enter a password"}],username:"",usernameRules:[function(t){return!!t||"Please enter a username"}]}},methods:{login:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.a.User.logIn(this.username,this.password);case 2:this.$router.push("dashboard");case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},re=ae,ne=Object(y["a"])(re,ee,se,!1,null,"2ac94eaa",null),ie=ne.exports;b()(ne,{VBtn:S["a"],VCard:T["a"],VCardActions:V["a"],VCardText:V["b"],VContainer:x["a"],VForm:I["a"],VSpacer:j["a"],VTextField:F["a"],VToolbar:jt["a"],VToolbarTitle:lt["a"]}),a["a"].use(gt["a"]);var oe=[{path:"/",name:"home",component:ie,meta:{requiresAuth:!1}},{path:"/Dashboard",name:"dashboard",component:Pt,meta:{requiresAuth:!0}},{path:"/Account",name:"account",component:Qt,meta:{requiresAuth:!0}},{path:"/VisitHistory",name:"visitHistory",component:te,meta:{requiresAuth:!0}}],ce=new gt["a"]({routes:oe});ce.beforeEach((function(t,e,s){var a=m.a.User.current();1==t.meta.requiresAuth&&a?s():1!=t.meta.requiresAuth||a?"/"==e.fullPath&&a?s("/dashboard"):s():s("/")}));var le=ce,ue=s("2f62");a["a"].use(ue["a"]);var de=new ue["a"].Store({state:{},mutations:{},actions:{},modules:{}}),me=s("f309"),pe=s("fcf4");a["a"].use(me["a"]);var ve=new me["a"]({theme:{light:!0,dark:!1,themes:{light:{primary:"#FFFFFF",secondary:"#000000",accent:"#2A6EBB",error:"#FF5252",info:pe["a"].grey,success:pe["a"].green,warning:pe["a"].red,background:"#000000",lightAccent:"#A0CFEB"},dark:{primary:"#000000",secondary:"#FFFFFF",accent:"#9e1f63",error:"#FF5252",info:pe["a"].grey,success:pe["a"].green,warning:pe["a"].red,background:"#FFFFFF"}},iconfont:"md",icons:{iconfont:"md"}}});m.a.initialize("fda647fd8cc2b83ce84a557d3c95086c"),m.a.serverURL="https://visitormanagement-5676.nodechef.com/parse",a["a"].config.productionTip=!1,new a["a"]({router:le,store:de,vuetify:ve,render:function(t){return t(yt)}}).$mount("#app")},6:function(t,e){},"68ca":function(t,e,s){},7:function(t,e){},8:function(t,e){},9:function(t,e){},"96ae":function(t,e,s){"use strict";var a=s("dcbd"),r=s.n(a);r.a},af05:function(t,e,s){"use strict";var a=s("c987"),r=s.n(a);r.a},afa4:function(t,e,s){},c987:function(t,e,s){},dcbd:function(t,e,s){},e989:function(t,e,s){"use strict";var a=s("afa4"),r=s.n(a);r.a},ff8c:function(t,e,s){"use strict";var a=s("0b90"),r=s.n(a);r.a}});
//# sourceMappingURL=app.ea73f144.js.map